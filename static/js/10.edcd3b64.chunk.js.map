{"version":3,"sources":["components/common/Element.js","config/Config.js","utils/ErrorUtils.js","components/common/BlockTitle.js","components/editions/EditionElement.js","components/editions/Editions.js","hooks/UseReleaseApi.js","actions/ReleaseActions.js","components/applications/TaskUnifierApp.js"],"names":["Element","_ref","image","head","title","content","_jsxs","className","children","_jsx","dangerouslySetInnerHTML","__html","config","common","sku","trialSku","latestReleaseUrl","local","apiUrl","cloudUrl","stripe","publicKey","productId","dev","prod","getConfig","_objectSpread","showError","error","_notification","message","description","toString","response","data","_Modal","JSON","stringify","width","BlockTitle","EditionElement","icon","tooltip","pro","index","_Tooltip","placement","Icon","style","fontWeight","Editions","translations","Translations","editions_title","base_pro","editions_contacts_title","editions_contacts_tooltip","editions_contexts_title","editions_contexts_tooltip","editions_folders_title","editions_folders_tooltip","editions_goals_title","editions_goals_tooltip","editions_locations_title","editions_locations_tooltip","editions_notes_title","editions_notes_tooltip","editions_tasks_title","editions_tasks_tooltip","editions_task_templates_title","editions_task_templates_tooltip","editions_filters_title","editions_filters_tooltip","editions_custom_fields_title","editions_custom_fields_tooltip","editions_synchronization_title","editions_synchronization_tooltip","base_free","colSpan","editions_hover","useReleaseApi","dispatch","useDispatch","retrieveLatestRelease","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","axios","method","url","responseType","sent","abrupt","t0","stop","TaskUnifierApp","releaseApi","_useState","useState","_useState2","_slicedToArray","busy1","setBusy1","_useState3","_useState4","release","setRelease","useEffect","setLatestRelease","_release","finish","apply","arguments","links","win","assets","find","asset","name","endsWith","toLocaleLowerCase","includes","winSetup","mac","linuxTar","linuxSnap","linuxAppImg","push","id","browser_download_url","label","getDownloadLinks","React","Fragment","Block","color","BlockContent","_Row","gutter","_Col","xs","sm","app_title","app_text","_Spin","spinning","base_download","align","app_latest_version","map","link","margin","href"],"mappings":"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","file":"static/js/10.edcd3b64.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Element({ image, head, title, content }) {\n    return (\n        <div className=\"element\">\n            {image && (\n                <div className={(title || content) ? 'image-small' : 'image-big'}>\n                    {image}\n                </div>\n            )}\n            {(title || content) && (\n                <div className=\"text\">\n                    <div className={'element-title' + (head ? '' : ' small')}>{title}</div>\n                    {typeof content === 'string' ? (\n                        <span dangerouslySetInnerHTML={{ __html: content }} />\n                    ) : content}\n                </div>\n            )}\n        </div>\n    );\n}\n\nElement.propTypes = {\n    image: PropTypes.node,\n    head: PropTypes.bool,\n    title: PropTypes.node,\n    content: PropTypes.node\n};\n\nexport default Element;","const config = {\n    common: {\n        sku: 'tu-app-pro-1',\n        trialSku: 'tu-app-pro-trial-1',\n        latestReleaseUrl: 'https://api.github.com/repos/leclercb/taskunifier-app/releases/latest'\n    },\n    local: {\n        apiUrl: 'http://localhost:2000',\n        cloudUrl: 'http://localhost:3000',\n        stripe: {\n            publicKey: 'pk_test_2s6bAR33dvEhfo6HPxUFp3aC00Oeu6YaC3',\n            productId: 'prod_G25vLYUMMZ425U'\n        }\n    },\n    dev: {\n        apiUrl: 'https://api-dev.taskunifier.app',\n        cloudUrl: 'https://cloud-dev.taskunifier.app',\n        stripe: {\n            publicKey: 'pk_test_2s6bAR33dvEhfo6HPxUFp3aC00Oeu6YaC3',\n            productId: 'prod_G25vLYUMMZ425U'\n        }\n    },\n    prod: {\n        apiUrl: 'https://api.taskunifier.app',\n        cloudUrl: 'https://cloud.taskunifier.app',\n        stripe: {\n            publicKey: 'pk_live_4lKvIf62Jr5Gmcoq7LMB8m8c00FigLOWJL',\n            productId: 'prod_G25rZGmCt27V8q'\n        }\n    }\n};\n\nexport function getConfig() {\n    return {\n        ...config.common,\n        ...config[process.env.REACT_APP_STAGE]\n    };\n}","import React from 'react';\nimport { Modal, notification } from 'antd';\n\nexport function showError(title, error) {\n    notification.error({\n        message: title,\n        description: error.toString()\n    });\n\n    const content = error.response && error.response.data ? error.response.data : error;\n\n    Modal.error({\n        title,\n        content: (\n            <div>\n                <pre>\n                    {JSON.stringify(content, null, 2)}\n                </pre>\n            </div>\n        ),\n        width: 800\n    });\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction BlockTitle({ children, className }) {\n    return (\n        <div className={'block-title ' + className}>\n            {children}\n        </div>\n    );\n}\n\nBlockTitle.propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string\n};\n\nexport default BlockTitle;","import React from 'react';\nimport { Tooltip } from 'antd';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/common/Icon';\n\nconst EditionElement = ({ icon, title, tooltip, pro, index }) => {\n    return (\n        <Tooltip title={tooltip} placement=\"left\">\n            <tr className={index % 2 === 0 ? 'even' : 'odd'}>\n                <td><Icon icon={icon} /></td>\n                <td>{title}</td>\n                <td>\n                    {typeof pro === 'boolean' && pro && (<Icon icon=\"check-circle\" />)}\n                    {typeof pro === 'number' && (<span style={{ fontWeight: 'bold' }}>{pro}</span>)}\n                </td>\n            </tr>\n        </Tooltip>\n    );\n};\n\nEditionElement.propTypes = {\n    icon: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    tooltip: PropTypes.string.isRequired,\n    pro: PropTypes.oneOfType([\n        PropTypes.bool.isRequired,\n        PropTypes.number.isRequired\n    ]).isRequired,\n    index: PropTypes.number.isRequired\n};\n\nexport default EditionElement;","import React from 'react';\nimport EditionElement from 'components/editions/EditionElement';\nimport Translations from 'constants/Translations';\n\nfunction Editions() {\n    const translations = Translations;\n\n    return (\n        <table className=\"editions\">\n            <thead>\n                <tr>\n                    <td style={{ width: 30 }} />\n                    <td>{translations.editions_title}</td>\n                    <td style={{ width: 250 }}>{translations.base_pro}</td>\n                </tr>\n            </thead>\n            <tbody>\n                <EditionElement\n                    icon=\"thumbtack\"\n                    title={translations.editions_contacts_title}\n                    tooltip={translations.editions_contacts_tooltip}\n                    pro={true}\n                    index={1} />\n                <EditionElement\n                    icon=\"thumbtack\"\n                    title={translations.editions_contexts_title}\n                    tooltip={translations.editions_contexts_tooltip}\n                    pro={true}\n                    index={2} />\n                <EditionElement\n                    icon=\"folder\"\n                    title={translations.editions_folders_title}\n                    tooltip={translations.editions_folders_tooltip}\n                    pro={true}\n                    index={3} />\n                <EditionElement\n                    icon=\"crosshairs\"\n                    title={translations.editions_goals_title}\n                    tooltip={translations.editions_goals_tooltip}\n                    pro={true}\n                    index={4} />\n                <EditionElement\n                    icon=\"crosshairs\"\n                    title={translations.editions_locations_title}\n                    tooltip={translations.editions_locations_tooltip}\n                    pro={true}\n                    index={5} />\n                <EditionElement\n                    icon=\"align-center\"\n                    title={translations.editions_notes_title}\n                    tooltip={translations.editions_notes_tooltip}\n                    pro={true}\n                    index={6} />\n                <EditionElement\n                    icon=\"tasks\"\n                    title={translations.editions_tasks_title}\n                    tooltip={translations.editions_tasks_tooltip}\n                    pro={true}\n                    index={7} />\n                <EditionElement\n                    icon=\"file-alt\"\n                    title={translations.editions_task_templates_title}\n                    tooltip={translations.editions_task_templates_tooltip}\n                    pro={true}\n                    index={8} />\n                <EditionElement\n                    icon=\"search\"\n                    title={translations.editions_filters_title}\n                    tooltip={translations.editions_filters_tooltip}\n                    pro={true}\n                    index={9} />\n                <EditionElement\n                    icon=\"puzzle-piece\"\n                    title={translations.editions_custom_fields_title}\n                    tooltip={translations.editions_custom_fields_tooltip}\n                    pro={true}\n                    index={10} />\n                <EditionElement\n                    icon=\"sync-alt\"\n                    title={translations.editions_synchronization_title}\n                    tooltip={translations.editions_synchronization_tooltip}\n                    pro={true}\n                    index={11} />\n            </tbody>\n            <tfoot>\n                <tr className=\"offer\">\n                    <td />\n                    <td />\n                    <td>{translations.base_free}</td>\n                </tr>\n                <tr className=\"info\">\n                    <td colSpan={3}>\n                        <span>{translations.editions_hover}</span>\n                    </td>\n                </tr>\n            </tfoot>\n        </table>\n    );\n}\n\nexport default Editions;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { retrieveLatestRelease } from 'actions/ReleaseActions';\n\nexport function useReleaseApi() {\n    const dispatch = useDispatch();\n\n    const retrieveLatestReleaseCallback = useCallback(\n        () => dispatch(retrieveLatestRelease()),\n        [dispatch]\n    );\n\n    return {\n        retrieveLatestRelease: retrieveLatestReleaseCallback\n    };\n}","import axios from 'axios';\nimport { getConfig } from 'config/Config';\nimport { showError } from 'utils/ErrorUtils';\n\nexport function getDownloadLinks(release) {\n    const links = [];\n\n    if (!release) {\n        return links;\n    }\n\n    const win = release.assets.find(asset => asset.name.endsWith('.exe') && !asset.name.toLocaleLowerCase().includes('setup'));\n    const winSetup = release.assets.find(asset => asset.name.endsWith('.exe') && asset.name.toLocaleLowerCase().includes('setup'));\n    const mac = release.assets.find(asset => asset.name.endsWith('.dmg'));\n    const linuxTar = release.assets.find(asset => asset.name.endsWith('.tar.gz'));\n    const linuxSnap = release.assets.find(asset => asset.name.endsWith('.snap'));\n    const linuxAppImg = release.assets.find(asset => asset.name.endsWith('.AppImage'));\n\n    if (win) {\n        links.push({\n            id: win.id,\n            url: win.browser_download_url,\n            label: 'Windows without installer'\n        });\n    }\n\n    if (winSetup) {\n        links.push({\n            id: winSetup.id,\n            url: winSetup.browser_download_url,\n            label: 'Windows with installer'\n        });\n    }\n\n    if (mac) {\n        links.push({\n            id: mac.id,\n            url: mac.browser_download_url,\n            label: 'Mac'\n        });\n    }\n\n    if (linuxTar) {\n        links.push({\n            id: linuxTar.id,\n            url: linuxTar.browser_download_url,\n            label: 'Linux (tar.gz)'\n        });\n    }\n\n    if (linuxSnap) {\n        links.push({\n            id: linuxSnap.id,\n            url: linuxSnap.browser_download_url,\n            label: 'Linux (snap)'\n        });\n    }\n\n    if (linuxAppImg) {\n        links.push({\n            id: linuxAppImg.id,\n            url: linuxAppImg.browser_download_url,\n            label: 'Linux (appimage)'\n        });\n    }\n\n    return links;\n}\n\nexport function retrieveLatestRelease() {\n    return async () => {\n        try {\n            const result = await axios({\n                method: 'GET',\n                url: getConfig().latestReleaseUrl,\n                responseType: 'json'\n            });\n\n            return result.data;\n        } catch (error) {\n            showError('Retrieval of latest release failed', error);\n            throw error;\n        }\n    };\n}","import React, { useEffect, useState } from 'react';\nimport { Col, Row, Spin } from 'antd';\nimport { getDownloadLinks } from 'actions/ReleaseActions';\nimport Block from 'components/common/Block';\nimport BlockContent from 'components/common/BlockContent';\nimport BlockTitle from 'components/common/BlockTitle';\nimport Element from 'components/common/Element';\nimport Icon from 'components/common/Icon';\nimport Editions from 'components/editions/Editions';\nimport Translations from 'constants/Translations';\nimport { useReleaseApi } from 'hooks/UseReleaseApi';\n\nfunction TaskUnifierApp() {\n    const releaseApi = useReleaseApi();\n\n    const [busy1, setBusy1] = useState(false);\n    const [release, setRelease] = useState(null);\n\n    useEffect(() => {\n        const setLatestRelease = async () => {\n            try {\n                setBusy1(true);\n                const release = await releaseApi.retrieveLatestRelease();\n                setRelease(release);\n            } finally {\n                setBusy1(false);\n            }\n        };\n\n        setLatestRelease();\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const links = getDownloadLinks(release);\n    const translations = Translations;\n\n    return (\n        <React.Fragment>\n            <Block color=\"white\">\n                <BlockContent>\n                    <Row gutter={40}>\n                        <Col xs={24} sm={12}>\n                            <Element\n                                head={true}\n                                title={translations.app_title}\n                                content={translations.app_text} />\n                        </Col>\n                        <Col xs={24} sm={12}>\n                            <Element image={<Icon icon=\"desktop\" />} />\n                        </Col>\n                    </Row>\n                </BlockContent>\n            </Block>\n            <Spin spinning={busy1}>\n                <Block color=\"blue\">\n                    <BlockTitle>{translations.base_download}</BlockTitle>\n                    <BlockContent align=\"left\">\n                        <Row gutter={40}>\n                            <Col xs={24} sm={12}>\n                                <Element\n                                    title={(\n                                        <React.Fragment>\n                                            {translations.app_latest_version}: <b>{release ? release.name : ''}</b>\n                                        </React.Fragment>\n                                    )}\n                                    content={(\n                                        <ul>\n                                            {links.map(link => (\n                                                <li key={link.id} style={{ margin: 8 }}>\n                                                    For <a href={link.url}><b>{link.label}</b></a>\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    )} />\n                            </Col>\n                            <Col xs={24} sm={12}>\n                                <Element image={<Icon icon=\"download\" />} />\n                            </Col>\n                        </Row>\n                    </BlockContent>\n                </Block>\n            </Spin>\n            <Block color=\"white\">\n                <BlockContent>\n                    <Editions />\n                </BlockContent>\n            </Block>\n        </React.Fragment>\n    );\n}\n\nexport default TaskUnifierApp;"],"sourceRoot":""}