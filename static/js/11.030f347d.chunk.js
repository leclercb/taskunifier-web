(this["webpackJsonptaskunifier-web"]=this["webpackJsonptaskunifier-web"]||[]).push([[11],{325:function(e,t,r){"use strict";r(0);var n=r(2);t.a=function(e){var t=e.image,r=e.head,c=e.title,a=e.content;return Object(n.jsxs)("div",{className:"element",children:[t&&Object(n.jsx)("div",{className:c||a?"image-small":"image-big",children:t}),(c||a)&&Object(n.jsxs)("div",{className:"text",children:[Object(n.jsx)("div",{className:"element-title"+(r?"":" small"),children:c}),"string"===typeof a?Object(n.jsx)("span",{dangerouslySetInnerHTML:{__html:a}}):a]})]})}},332:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),c={common:{sku:"tu-app-pro-1",trialSku:"tu-app-pro-trial-1",latestReleaseUrl:"https://api.github.com/repos/leclercb/taskunifier-app/releases/latest"},local:{apiUrl:"http://localhost:2000",cloudUrl:"http://localhost:3000",stripe:{publicKey:"pk_test_2s6bAR33dvEhfo6HPxUFp3aC00Oeu6YaC3",productId:"prod_G25vLYUMMZ425U"}},dev:{apiUrl:"https://api-dev.taskunifier.app",cloudUrl:"https://cloud-dev.taskunifier.app",stripe:{publicKey:"pk_test_2s6bAR33dvEhfo6HPxUFp3aC00Oeu6YaC3",productId:"prod_G25vLYUMMZ425U"}},prod:{apiUrl:"https://api.taskunifier.app",cloudUrl:"https://cloud.taskunifier.app",stripe:{publicKey:"pk_live_4lKvIf62Jr5Gmcoq7LMB8m8c00FigLOWJL",productId:"prod_G25rZGmCt27V8q"}}};function a(){return Object(n.a)(Object(n.a)({},c.common),c.prod)}},333:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(349);var n=r(350),c=r.n(n),a=(r(158),r(89)),s=r.n(a),i=(r(0),r(2));function l(e,t){s.a.error({message:e,description:t.toString()});var r=t.response&&t.response.data?t.response.data:t;c.a.error({title:e,content:Object(i.jsx)("div",{children:Object(i.jsx)("pre",{children:JSON.stringify(r,null,2)})}),width:800})}},337:function(e,t,r){"use strict";r(0);var n=r(2);t.a=function(e){var t=e.children,r=e.className;return Object(n.jsx)("div",{className:"block-title "+r,children:t})}},518:function(e,t,r){"use strict";r.r(t);r(330);var n=r(331),c=r.n(n),a=(r(328),r(329)),s=r.n(a),i=r(0),l=r.n(i),o=(r(157),r(111)),u=r.n(o),d=r(23),p=r(46),j=r(63),b=r(5),h=(r(159),r(110)),O=r.n(h),f=(r(389),r(365)),x=r.n(f),m=(r(396),r(399)),v=r.n(m),k=r(2);var g=function(e){var t=e.plan,r=e.onSelectPlan,n=function(e){switch(e.nickname){case"Free":return[Object(k.jsx)("strong",{children:"100 Tasks"},0),Object(k.jsx)("strong",{children:"10 Notes"},1),"10 Contacts","10 Contexts","10 Folders","10 Goals","10 Locations"];case"Monthly":case"Yearly":return[Object(k.jsx)("strong",{children:"10000 Tasks"},0),Object(k.jsx)("strong",{children:"1000 Notes"},1),"100 Contacts","100 Contexts","100 Folders","100 Goals","100 Locations","100 Note Filters","100 Task Filters","10 Custom Note Fields","10 Custom Task Fields","100 Task Templates"];default:return[]}}(t);return Object(k.jsx)(s.a,{span:24,md:8,children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:20,border:"3px solid #cccccc",borderRadius:10,textAlign:"center",height:"100%"},children:[Object(k.jsx)(v.a.Title,{level:3,children:t.nickname}),Object(k.jsx)("div",{style:{margin:20},children:Object(k.jsx)(x.a,{dataSource:n,size:"small",bordered:!1,renderItem:function(e){return Object(k.jsx)(x.a.Item,{children:Object(k.jsx)("span",{children:e})})}})}),Object(k.jsxs)("div",{style:{marginTop:"auto"},children:["free"===t.id&&Object(k.jsx)(v.a.Title,{level:4,children:"Free"}),"free"!==t.id&&Object(k.jsxs)(v.a.Title,{level:4,children:[(t.amount/100).toFixed(2)," ",Object(k.jsxs)("span",{style:{fontWeight:"normal"},children:[t.currency," per ",t.interval]})]}),r&&Object(k.jsx)(O.a,{type:"primary",onClick:function(){return r(t,t.amount)},children:"Select this plan"})]})]})})},y=r(332),U=r(113),w=r(346),T=r.n(w),_=r(333);function C(){var e=Object(U.b)();return{getPlans:Object(i.useCallback)((function(t){return e(function(e){return Object(j.a)(Object(p.a)().mark((function t(){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T()({method:"GET",url:"".concat(Object(y.a)().apiUrl,"/v1/stripe/products/").concat(e,"/plans"),responseType:"json"});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),Object(_.a)("Plans retrieval failed",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))}(t))}),[e]),processSku:Object(i.useCallback)((function(t,r){return e(function(e,t){return Object(j.a)(Object(p.a)().mark((function r(){var n;return Object(p.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,T()({method:"POST",url:"".concat(Object(y.a)().apiUrl,"/v1/stripe/skus/process"),responseType:"json",data:{sku:e,email:t}});case 3:return n=r.sent,r.abrupt("return",n.data);case 7:throw r.prev=7,r.t0=r.catch(0),Object(_.a)("SKU process failed",r.t0),r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))}(t,r))}),[e])}}var F=function(e){var t=e.onSelectPlan,r=C(),n=Object(i.useState)([]),a=Object(b.a)(n,2),s=a[0],l=a[1],o=Object(i.useState)(!1),h=Object(b.a)(o,2),O=h[0],f=h[1];return Object(i.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,r.getPlans(Object(y.a)().stripe.productId);case 4:t=e.sent,l(t);case 6:return e.prev=6,f(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(k.jsx)(u.a,{spinning:O,children:Object(k.jsx)(c.a,{type:"flex",gutter:20,children:[{id:"free",nickname:"Free",amount:0}].concat(Object(d.a)(s)).sort((function(e,t){return e.nickname.localeCompare(t.nickname)})).map((function(e){return Object(k.jsx)(g,{plan:e,onSelectPlan:t},e.id)}))})})},S=r(54),N=r(55),P=r(337),G=r(325),I=r(62),L=r(106);t.default=function(){var e=L.a;return Object(k.jsxs)(l.a.Fragment,{children:[Object(k.jsx)(S.a,{color:"white",children:Object(k.jsx)(N.a,{children:Object(k.jsxs)(c.a,{gutter:40,children:[Object(k.jsx)(s.a,{xs:24,sm:12,children:Object(k.jsx)(G.a,{head:!0,title:e.cloud_title,content:e.cloud_text})}),Object(k.jsx)(s.a,{xs:24,sm:12,children:Object(k.jsx)(G.a,{image:Object(k.jsx)(I.a,{icon:"cloud"})})})]})})}),Object(k.jsxs)(S.a,{color:"white",children:[Object(k.jsx)(P.a,{children:e.base_plans}),Object(k.jsxs)(N.a,{children:[Object(k.jsx)(F,{}),Object(k.jsx)("a",{href:Object(y.a)().cloudUrl,className:"main-link big",style:{marginTop:30},children:e.cloud_create_account})]})]})]})}}}]);
//# sourceMappingURL=11.030f347d.chunk.js.map